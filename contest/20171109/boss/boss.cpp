#include <stdio.h>
const int biao[]={0,500329845,652732,500968724,1277856,501580191,1875764,502164638,2446848,502722457,/**/2991500,503254040,3510112,503759779,4003076,504240066,4470784,504695293,4913628,505125852,5332000,505532135,5726292,505914534,6096896,506273441,6444204,506609248,6768608,506922347,7070500,507213130,7350272,507481989,7608316,507729316,7845024,507955503,8060788,508160942,8256000,508346025,8431052,508511144,8586336,508656691,8722244,508783058,8839168,508890637,8937500,508979820,9017632,509050999,9079956,509104566,9124864,509140913,9152748,509160432,9164000,509163515,9159012,509150554,9138176,509121941,9101884,509078068,9050528,509019327,8984500,508946110,8904192,508858809,8809996,508757816,8702304,508643523,8581508,508516322,8448000,508376605,8302172,508224764,8144416,508061191,7975124,507886278,7794688,507700417,7603500,507504000,7401952,507297419,7190436,507081066,6969344,506855333,6739068,506620612,6500000,506377295,6252532,506125774,5997056,505866441,5733964,505599688,5463648,505325907,5186500,505045490,4902912,504758829,4613276,504466316,4317984,504168343,4017428,503865302,3712000,503557585,3402092,503245584,3088096,502929691,2770404,502610298,2449408,502287797,2125500,501962580,1799072,501635039,1470516,501305566,1140224,500974553,808588,500642392,476000,500309475,142852,499976194,999809543,499642941,999476451,499310108,999143975,498978087,998812507,498647270,998482439,498318049,998154163,497990816,997828071,497665963,997504555,497343882,997184007,497024965,996866819,496709604,996553383,496398191,996244091,496091118,995939335,495788777,995639507,495491560,995344999,495199859,995056203,494914066,994773511,494634573,994497315,494361772,994228007,494096055,993965979,493837814,993711623,493587441,993465331,493345328,993227495,493111867,992998507,492887450,992778759,492672469,992568643,492467316,992368551,492272383,992178875,492088062,992000007,491914745,991832339,491752824,991676263,491602691,991532171,491464738,991400455,491339357,991281507,491226940,991175719,491127879,991083483,491042566,991005191,490971393,990941235,490914752,990892007,490873035,990857899,490846634,990839303,490835941,990836611,490841348,990850215,490863247,990880507,490902030,990927879,490958089,990992723,491031816,991075431,491123603,991176395,491233842,991296007,491362925,991434659,491511244,991592743,491679191,991770651,491867158,991968775,492075537,992187507,492304720,992427239,492555099,992688363,492827066,992971271,493121013,993276355,493437332,993604007,493776415,993954619,494138654,994328583,494524441,994726291,494934168,995148135,495368227,995594507,495827010,996065799,496310909,996562403,496820316,997084711,497355623,997633115,497917222,998208007,498505505,998809779,499120864,999438823,499763691,95524,500434378,780288,501133317,1493500,501860900,2235552,502617519,3006836,503403566,3807744,504219433,4638668,505065512,5500000,505942195,6392132,506849874,7315456,507788941,8270364,508759788,9257248,509762807,10276500,510798390,11328512,511866929,12413676,512968816,13532384,514104443,14685028,515274202,15872000,516478485,17093692,517717684,18350496,518992191,19642804,520302398,20971008,521648697,22335500,523031480,23736672,524451139,25174916,525908066,26650624,527402653,28164188,528935292,29716000,530506375,31306452,532116294,32935936,533765441,34604844,535454208,36313568,537182987,38062500,538952170,39852032,540762149,41682556,542613316,43554464,544506063,45468148,546440782,47424000,548417865,49422412,550437704,51463776,552500691,53548484,554607218,55676928,556757677,57849500,558952460,60066592,561191959,62328596,563476566,64635904,565806673,66988908,568182672,69388000,570604955,71833572,573073914,74326016,575589941,76865724,578153428,79453088,580764767,82088500,583424350,84772352,586132569,87505036,588889816,90286944,591696483,93118468,594552962,96000000,597459645,98931932,600416924,101914656,603425191,104948564,606484838,108034048,609596257,111171500,612759840,114361312,615975979,117603876,619245066,120899584,622567493,124248828,625943652,127652000,629373935,131109492,632858734,134621696,636398441,138189004,639993448,141811808,643644147,145490500,647350930,149225472,651114189,153017116,654934316,156865824,658811703,160771988,662746742,164736000,666739825,168758252,670791344,172839136,674901691,176979044,679071258,181178368,683300437,185437500,687589620,189756832,691939199,194136756,696349566,198577664,700821113,203079948,705354232,207644000,709949315,212270212,714606754,216958976,719326941,221710684,724110268,226525728,728957127,231404500,733867910,236347392,738843009,241354796,743882816,246427104,748987723,251564708,754158122,256768000,759394405,262037372,764696964,267373216,770066191,272775924,775502478,278245888,781006217,283783500,786577800,289389152,792217619,295063236,797926066,300806144,803703533,306618268,809550412,312500000,815467095,318451732,821453974,324473856,827511441,330566764,833639888,336730848,839839707,342966500,846111290,349274112,852455029,355654076,858871316,362106784,865360543,368632628,871923102,375232000,878559385,381905292,885269784,388652896,892054691,395475204,898914498,402372608,905849597,409345500,912860380,416394272,919947239,423519316,927110566,430721024,934350753,437999788,941668192,445356000,949063275,452790052,956536394,460302336,964087941,467893244,971718308,475563168,979427887,483312500,987217070,491141632,995086249,499050956,3035809,507040864,11066156,515111748,19177675,523264000,27370758,531498012,35645797,539814176,44003184,548212884,52443311,556694528,60966570,565259500,69573353,573908192,78264052,582640996,87039059,591458304,95898766,600360508,104843565,609348000,113873848,618421172,122990007,627580416,132192434,636826124,141481521,646158688,150857660,655578500,160321243,665085952,169872662,674681436,179512309,684365344,189240576,694138068,199057855,704000000,208964538,713951532,218961017,723993056,229047684,734124964,239224931,744347648,249493150,754661500,259852733,765066912,270304072,775564276,280847559,786153984,291483586,796836428,302212545,807612000,313034828,818481092,323950827,829444096,334960934,840501404,346065541,851653408,357265040,862900500,368559823,874243072,379950282,885681516,391436809,897216224,403019796,908847588,414699635,920576000,426476718,932401852,438351437,944325536,450324184,956347444,462395351,968467968,474565330,980687500,486834513,993006432,499203292,5425149,511672059,17944057,524241206,30563541,536911125,43283993,549682208,56105805,562554847,69029369,575529434,82055077,588606361,95183321,601786020,108414493,615068803,121748985,628455102,135187189,641945309,148729497,655539816,162376301,669239015,176127993,683043298,189984965,696953057,203947609,710968684,218016317,725090571,232191481,739319110,246473493,753654693,260862745,768097712,275359629,782648559,289964537,797307626,304677861,812075305,319499993,826951988,334431325,841938067,349472249,857033934,364623157,872239981,379884441,887556600,395256493,902984183,410739705,918523122,426334469,934173809,442041177,949936636,457860221,965811995,473791993,981800278,489836885,997901877,505995289,14117177,522267597,30446584,538654201,46890483,555155493,63449266,571771865,80123325,588503709,96913052,605351417,113818839,622315381,130841078,639395993,147980161,656593645,165236480,673908729,182610427,691341637,200102394,708892761,217712773,726562493,235441956,744351225,253290335,762259349,271258302,780287257,289346249,798435341,307554568,816703993,325883651,835093605,344333890,853604569,362905677,872237277,381599404,890992121,400415463,909869493,419354246,928869785,438416145,947993389,457601552,967240697,476910859,986612101,496344458,6107986,515902741,25728758,535586100,45474802,555394927,65346510,575329614,85344274,595390553,105468486,615578136,125719538,635892755,146097822,656334802,166603730,676904669,187237654,697602748,207999986,718429431,228891118,739385110,249911442,760470177,271061350,781685024,292341234,803030043,313751486,824505626,335292498,846112165,356964662,867850052,378768370,889719679,400704014,911721438,422771986,933855721,444972678,956122920,467306482,978523427,489773790,1057627,512374994,23725926,535110486,46528709,557980658,69466368,580985902,92539295,604126610,115747882,627403174,139092521,650815986,162573604,674365438,186191523,698051922,209946670,721875830,233839437,745837554,257870216,769937486,282039399,794176018,306347378,818553542,330794545,843070450,355381292,867727134,380108011,892523986,404975094,917461398,429982933,942539762,455131920,967759470,480422447,993120914,505854906,18624479,531429689,44270571,557147188,70059575,583007795,95991883,609011902,122067887,635159901,148287979,661452184,174652551,687889143,201161995,714471170,227816703,741198657,254617067,768071996,281563479,795091579,308656331,822257798,335896015,849571045,363282923,877031712,390817447,904640191,418499979,932396874,446330911,960302153,474310635,988356420,502439543,16560060,530718027,44913479,559146479,73417062,587725291,102071201,616454855,130876288,645335563,159832715,674367807,188940874,703551979,218201157,732888471,247613956,762377675,277179663,792019983,306898670,821815787,336771369,851765479,366798152,881869451,396979411,912128095,427315538,942541803,457806925,973110967,488453964,3835972,519257047,34717224,550216566,65755108,581332913,96950016,612606480,128302340,644037659,159812472,675626842,191480804,707374421,223307728,739280788,255293636,771346335,287438920,803571454,319743972,835956537,352209184,868501976,384834948,901208163,417621656,934075490,450569700,967104349,483679472,295125,516951364,33648224,550385768,67164031,583983076,100842938,617743680,134685337,651667972,168691620,685756344,202862179,720009188,237197406,754426896,271697693,789009860,306363432,823758472,341195015,858673124,376192834,497492369};
const int mod=1000000007;
const int biaosize=1000000;
int main()
{
	freopen("boss.in","r",stdin);
	// freopen("boss.out","w",stdout);
	int n;
	scanf("%d",&n);
	while(n--)
	{
		long long now,ans;
		scanf("%lld",&now);
		now%=mod;
		ans=biao[now/biaosize];
		// printf("%lld %lld\n",now/biaosize,now/biaosize*biaosize);
		for(long long a=now/biaosize*biaosize+1;a<=now;a++){
			ans+=((a+1)*a)>>1;
			ans%=mod;
		}
		printf("%lld\n",ans);
	}
}